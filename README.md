# rix

[![builder](https://github.com/urbas/rix/actions/workflows/build.yml/badge.svg)](https://github.com/urbas/rix/actions/workflows/build.yml)

A reimplementation of `nix` in Rust.

# Progress

## New sub-commands

- ğŸŒ— `build-derivation`: builds a derivation in a sandbox.
  - ğŸŒ• stage 0: creates a sandbox.
  - ğŸŒ• stage 1: builds derivations without dependencies.
  - ğŸŒ— stage 2: builds derivations with dependencies.
    - TODO: mount directories for each derivation output.
    - TODO: deduplicate mount paths (rix now fails if multiple dependent derivations specify the same mount paths).
    - TODO: prevent internet access.
    - TODO: mount runtime dependencies of output paths too.
  - ğŸŒ‘ stage 3: builds fixed derivations (with internet access).
  - ğŸŒ‘ stage 4: builds X% of derivations in `nixpkgs` (assuming all dependencies are present).

## Nix sub-commands

- ğŸŒ˜ `eval`

  - ğŸŒ• stage 0 (evaluate basic integer arithmetic)
  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ˜ `show-derivation`

  - ğŸŒ• stage 1 (MVP): parse .drv files and dump JSON
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ• `hash to-base32`

  - ğŸŒ• stage 1 (MVP): conversions of non-SRI hashes
  - ğŸŒ• stage 2: most common use cases
  - ğŸŒ• stage 3: full implementation

- ğŸŒ• `hash to-base64`

  - ğŸŒ• stage 1 (MVP): conversions of non-SRI hashes
  - ğŸŒ• stage 2: most common use cases
  - ğŸŒ• stage 3: full implementation

- ğŸŒ• `hash to-base16`

  - ğŸŒ• stage 1 (MVP): conversions of non-SRI hashes
  - ğŸŒ• stage 2: most common use cases
  - ğŸŒ• stage 3: full implementation

- ğŸŒ• `hash to-sri`

  - ğŸŒ• stage 1 (MVP)
  - ğŸŒ• stage 2: most common use cases
  - ğŸŒ• stage 3: full implementation

- ğŸŒ‘ `hash file`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `hash path`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `build`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `develop`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `flake`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `help`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `profile`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `repl`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `run`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `search`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `shell`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `bundle`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `copy`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `edit`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `log`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `path-info`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `registry`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `why-depends`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `daemon`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `describe-stores`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `key`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `nar`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `print-dev-env`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `realisation`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `show-config`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `store`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `doctor`

  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation

- ğŸŒ‘ `upgrade-nix`
  - ğŸŒ‘ stage 1 (MVP)
  - ğŸŒ‘ stage 2: most common use cases
  - ğŸŒ‘ stage 3: full implementation
